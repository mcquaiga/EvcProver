<reactiveUi:ReactiveUserControl
    x:Class="Client.Desktop.Wpf.Views.Verifications.TestManagerView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Client.Desktop.Wpf.Views.Verifications"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:reactiveUi="http://reactiveui.net"
    xmlns:verifications="clr-namespace:Client.Desktop.Wpf.ViewModels.Verifications"
    x:Name="TestManager"
    d:DataContext="{d:DesignInstance verifications:TestManager,
                                     IsDesignTimeCreatable=False}"
    d:DesignHeight="450"
    d:DesignWidth="800"
    x:TypeArguments="verifications:TestManager"
    mc:Ignorable="d">
    <UserControl.Resources>
        <!--<Style x:Key="CorrectionTestStyles" TargetType="{x:Type ItemsControl}">
            <Setter Property="ItemTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <Border
                            Padding="4"
                            BorderThickness="0,0,1,0"
                            Style="{StaticResource SubSectionDividerBorder}">
                            <StackPanel>
                                <Button
                                    x:Name="DownloadButton"
                                    Margin="8,4"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    Command="{Binding ViewModel.DownloadCommand, ElementName=TestManager}"
                                    CommandParameter="{Binding}"
                                    Content="Run Test"
                                    Style="{StaticResource MaterialDesignRaisedDarkButton}" />
                                <reactiveUi:ViewModelViewHost x:Name="CorrectionTestStyleViewHost" ViewModel="{Binding}" />
                            </StackPanel>
        -->
        <!--  Command="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type ItemsControl}}, Path=DataContext.DownloadCommand}"  -->
        <!--

                        </Border>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
        </Style>-->

        <DataTemplate x:Key="CorrectionsTestDataTemplate">
            <Border
                Padding="4"
                BorderThickness="0,0,1,0"
                Style="{StaticResource SubSectionDividerBorder}">
                <StackPanel>
                    <Button
                        x:Name="DownloadButton"
                        Margin="8,4"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        Command="{Binding ViewModel.DownloadCommand, RelativeSource={RelativeSource AncestorType={x:Type local:TestManagerView}}}"
                        CommandParameter="{Binding}"
                        Content="Run Test"
                        Style="{StaticResource MaterialDesignRaisedDarkButton}" />
                    <reactiveUi:ViewModelViewHost x:Name="CorrectionsTestManagerViewHost" ViewModel="{Binding}" />
                </StackPanel>
                <!--  Command="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type ItemsControl}}, Path=DataContext.DownloadCommand}"  -->
            </Border>
        </DataTemplate>

        <!--<DataTemplate x:Key="RotaryVolumeTestDataTemplate">
            <StackPanel>
                <Button
                    x:Name="RunVolumeTestButton"
                    Margin="15,5"
                    Content="Run Volume Test"
                    Style="{StaticResource MaterialDesignRaisedDarkButton}" />

                <reactiveUi:ViewModelViewHost x:Name="VolumeContentHost" />
            </StackPanel>
        </DataTemplate>-->

        <DataTemplate x:Key="RotaryVolumeContentControlTemplate">
            <StackPanel>
                <Button
                    Width="150"
                    Margin="15,5"
                    Command="{Binding ViewModel.VolumeTestManager.StartTest, RelativeSource={RelativeSource AncestorType={x:Type local:TestManagerView}}}"
                    Content="Run Volume Test"
                    Style="{StaticResource MaterialDesignRaisedDarkButton}" />
            </StackPanel>
        </DataTemplate>

    </UserControl.Resources>
    <DockPanel>
        <materialDesign:ColorZone
            Padding="16,2"
            DockPanel.Dock="Top"
            Mode="PrimaryLight">
            <Grid HorizontalAlignment="Stretch">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <TextBlock Style="{StaticResource MaterialDesignHeadline6TextBlock}" Text="QA Test Run" />

                <StackPanel
                    Grid.Column="1"
                    HorizontalAlignment="Right"
                    Orientation="Horizontal">

                    <Button
                        x:Name="SaveButton"
                        Margin="8,0"
                        HorizontalAlignment="Left"
                        Content="{materialDesign:PackIcon ContentSave}"
                        Style="{StaticResource MaterialDesignRaisedAccentButton}" />

                    <Button
                        x:Name="PrintButton"
                        Margin="8,0"
                        HorizontalAlignment="Left"
                        Content="{materialDesign:PackIcon Printer}"
                        Style="{StaticResource MaterialDesignRaisedAccentButton}" />


                    <Button
                        x:Name="SubmitTestButton"
                        Width="Auto"
                        Margin="8,2"
                        HorizontalAlignment="Right"
                        Content="SUBMIT TEST"
                        Style="{StaticResource MaterialDesignFlatAccentButton}" />

                </StackPanel>

            </Grid>
        </materialDesign:ColorZone>

        <reactiveUi:ViewModelViewHost x:Name="TestViewContent" DockPanel.Dock="Bottom" />

    </DockPanel>
</reactiveUi:ReactiveUserControl>
